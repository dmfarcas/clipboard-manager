<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="assets/style.css" media="screen" title="no title" charset="utf-8">
    <title>Clipboard Manager v0.0001</title>
  </head>
  <body ng-controller="mainController">
    <div class="container">
    <h1>Clipboard Manager</h1>
    <p>Use CTRL/CMD+SHIFT+C to save your current clipboard.</p>
    <p>Click the text to save it to your clipboard. </p>

    <!-- <span>Save contents on: CTRL + </span><input id="shortcut" type="number" name="shortcut" min="1" max="9"> -->
    <p id="copied">Copied!</p>
    <table class="table table-hover" id="dasTable">
    <thead>
      <tr>
        <th>Clipboard Contents</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th hidden>This must be here so stuff is added in tbody.</th>
      </tr>
    </tbody>
  </table>
    <script>


      // receiving events from main process
    require('electron').ipcRenderer.on('copied', function(event, message) {
      appendRow(message);
    });



   function appendRow(text) {
     const clipboard = require('electron').clipboard;
     var table=document.getElementById('dasTable');
     var row=table.insertRow(1);
     var newCell=row.insertCell(0);
     newCell.setAttribute('contenteditable', 'true');
     // It works, hooray.
     newCell.setAttribute('onclick', 'copyText();');
     var newText  = document.createTextNode(text);
     newCell.appendChild(newText);
   }
   function copyText() {
     document.execCommand('selectAll',false,null);
     document.execCommand('Copy', false, null);
     // too lazy to use jQuery
     document.getElementById('copied').style.visibility = "visible";
     setTimeout(function(){ document.getElementById('copied').style.visibility = "hidden"; }, 300);
   }
    </script>
    <p> To do:
    <ul>
      <li>Save clipboard on a specific shortcut</li>
      <li>Some electron stuff.</li>
      <li>Save to localStorage.</li>
    </ul>

  </div>
  </body>
</html>
